<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Using GitHub Actions in R • ghactions</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><!-- docsearch --><script src="../docsearch.js"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.css" integrity="sha256-QOSRU/ra9ActyXkIBbiIB144aDBdtvXBcNc3OTNuX/Q=" crossorigin="anonymous">
<link href="../docsearch.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script><meta property="og:title" content="Using GitHub Actions in R">
<meta property="og:description" content="">
<meta property="og:image" content="https://r-lib.github.io/ghactions/logo.png">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">ghactions</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.4.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home"></span>
     
  </a>
</li>
<li>
  <a href="../articles/ghactions.html">Get Started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../articles/index.html">Articles</a>
</li>
<li>
  <a href="../pres/index.html">Presentation</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/maxheld83/ghactions">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul>
<form class="navbar-form navbar-right" role="search">
        <div class="form-group">
          <input type="search" class="form-control" name="search-input" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off">
</div>
      </form>
      
    </div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Using GitHub Actions in R</h1>
                        <h4 class="author">Maximilian Held</h4>
            
            <h4 class="date">2019-08-01</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/r-lib/ghactions/blob/master/vignettes/ghactions.Rmd"><code>vignettes/ghactions.Rmd</code></a></small>
      <div class="hidden name"><code>ghactions.Rmd</code></div>

    </div>

    
    
<p>Continuous integration and delivery (CI/CD) have evolved as software development best practices, and they also strengthen reproducibility in (data) science. By programmatically triggering CI/CD, output versions (say, a PDF report or compiled binaries) are bound to a particular version (a <code>git commit</code>) of the source.</p>
<p>For widespread adoption of this best practice in the R community, CI/CD needs to be simple, fast, and easy to reason about if things go wrong.</p>
<p><a href="https://github.com/features/actions">GitHub actions</a> is a new workflow automation feature of the popular code repository host GitHub. It is a convenient service layer on top of the popular container standard docker, and is itself partly open source, thus limiting vendor lock-in. GitHub actions may offer better CI/CD for the R community, but most importantly, it is simple to reason about if things go wrong.</p>
<div id="workflows" class="section level2">
<h2 class="hasAnchor">
<a href="#workflows" class="anchor"></a>Workflows</h2>
<p>GitHub actions are automated workflows defined in a file called <code>main.workflow</code> sitting in a special <code>.github/</code> folder at the root of your repository. Whenever some event gets triggered on GitHub (typically, a <code>git push</code>), GitHub will run through all the instructions in your <code>main.workflow</code> in the appropriate order.</p>
<p>GitHub actions models workflows as <a href="https://en.wikipedia.org/wiki/Directed_acyclic_graph">directed acyclic graphs (DAG)</a>. The <code>main.workflow</code> functions express these graphs using a subset of the <a href="https://github.com/hashicorp/hcl">Hashicorp Configuration Language (HCL)</a>. It’s not important that you know what any of this means.</p>
<p>The <code>main.workflow</code> is a simple text file, and it is reasonably human-readable. However, GitHub <em>also</em> provides a visual editor on their website that you can access by just opening your <code>.github/main.workflow</code> on <a href="https://www.github.com">github.com</a>.</p>
<p>The workflow functions in this package create such <code>main.workflow</code> files for you, with sensible defaults for several kinds of R projects. This is meant to get your started quickly, or to help you apply the same <code>main.workflow</code> to many similar projects that you might have.</p>
<p>However, you might soon find the wrappers in this package quite limiting, because <em>they are</em>. For more advanced uses, you may want to edit your own <code>main.workflow</code>s. You can always still use the custom R <em>actions</em> provided in this repo.</p>
</div>
<div id="actions" class="section level2">
<h2 class="hasAnchor">
<a href="#actions" class="anchor"></a>Actions</h2>
<p>GitHub actions workflows are made up of individual blocks called – you guessed it – <em>actions</em>. In other CI/CD services, these are sometimes known as <em>steps</em>, though GitHub actions are more flexible. You can read more about actions in <a href="https://developer.github.com/actions/">the GitHub documentation</a>.</p>
<p>The ghactions repository includes some custom R actions, listed in the <a href="https://r-lib.github.io/ghactions/articles">articles</a> section. <strong>You can use these custom R actions independently and without using this package</strong>.</p>
<p>These custom R actions, as well as generic actions from other repositories are also wrapped in little R functions listed in the actions category. These functions let you generate the necessary action blocks in R.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(ghactions)
<span class="co">#&gt; </span>
<span class="co">#&gt; Attaching package: 'ghactions'</span>
<span class="co">#&gt; The following object is masked from 'package:stats':</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;     filter</span>
x &lt;-<span class="st"> </span><span class="kw"><a href="../reference/rscript_byod.html">rscript_byod</a></span>(  <span class="co"># this just creates a list with sensible defaults</span>
  <span class="dt">IDENTIFIER =</span> <span class="st">"Summation"</span>,
  <span class="dt">needs =</span> <span class="st">"Build image"</span>, <span class="co"># this is the necessary prior step</span>
  <span class="co"># the uses field is hard-coded in the function to keep everything compatible</span>
  <span class="dt">expr =</span> <span class="st">"1+1"</span>
) 
<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/do.call">do.call</a></span>(<span class="dt">what =</span> action, <span class="dt">args =</span> x)
<span class="co">#&gt; $IDENTIFIER</span>
<span class="co">#&gt; [1] "Summation"</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $needs</span>
<span class="co">#&gt; [1] "Build image"</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $uses</span>
<span class="co">#&gt; [1] "maxheld83/ghactions/Rscript-byod@master"</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $runs</span>
<span class="co">#&gt; NULL</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $args</span>
<span class="co">#&gt; [1] "--verbose"      "--echo"         "-e \"\"1+1\"\""</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $env</span>
<span class="co">#&gt; NULL</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $secrets</span>
<span class="co">#&gt; NULL</span></code></pre></div>
<p>This isn’t a very convincing use of R, and you’d be better off typing the action block by hand, or even just using the visual editor on GitHub.com. These action wrappers, in short, are useful only in the <em>very</em> narrow case where you might want to programmatically build your own templates.</p>
<p>Every GitHub <em>action</em> runs in its own little virtual machine, called a Docker container (it’s not really a VM). Actions, even in the same workflow, share <em>no state</em> with one another, unless otherwise specified. To learn more about what this isolation means for using R in GitHub actions, and how you can persist states throughout a workflow, read the <a href="/ghactions/articles/isolation">vignette</a>.</p>
<p>Leveraging GitHub actions for more advanced uses requires some understanding of Docker, technology by which these separate computing environments are provisioned. If you already know what this is, skip ahead. If you’re not familiar with Docker, it’s easy to learn.</p>
</div>
<div id="docker" class="section level2">
<h2 class="hasAnchor">
<a href="#docker" class="anchor"></a>Docker</h2>
<p><a href="https://www.docker.com/">Docker</a> is an open-source industry standard to define and provision computing environments, known as <em>containers</em>. Containers are similar to virtual machines (a computer inside a computer), but slimmer and generally neater.</p>
<p>For some R projects, you will be targeting a computing environment that’s already well-defined. For example, a shiny app that’s supposed to run on <a href="https://www.shinyapps.io">shinyapps.io</a> will need to work within the shinyapps computing environment (their respective <code>Dockerfile</code> is <a href="https://github.com/rstudio/shinyapps-package-dependencies">here</a>). Similarly, for CRAN-bound packages, you might want to use one of the <a href="https://github.com/r-hub/rhub-linux-builders">r-hub-linux</a> images, approximating the environment which CRAN itself will use for submissions. In those cases, respective GitHub actions will set you up with the necessary computing environments out of the box, and you don’t have to worry about Docker.</p>
<p>For many other R projects however, there is <em>no</em> such standard computing environment, and you actually <em>want</em> to have the flexibility to provision one for yourself. For example, you might need a specific version of a system dependency such as the GSL. In these situations, you have to <strong>bring-your-own-<code>Dockerfile</code></strong>. Even if you might think you don’t have special requirements, already a simple RMarkdown report might depend on a particular version of R and Pandoc, which in turn may depend on a particular operating system version. In short, it’s almost always better to lock these dependencies down and <em>byod</em>.</p>
<p>Let’s backtrack a little to understand how Docker works. A Docker container exists in several forms. It starts from a simple text file called <code>Dockerfile</code> (no extension), listing some instructions to build a virtual machine. Think of this as the <em>recipe</em> to provision your computing environment. Using the <code>docker build</code> shell command, you can <em>build</em> a container <em>image</em>, which gets stored somewhere on your computer and which you can share with others. Think of this as the prepared <em>meal</em>, which you’ve then put in the freezer for later. Finally, you can <code>docker start</code> an image to boot said virtual machine. Figuratively, you’ve now microwaved your pre-cooked meal and can <em>finally</em> enjoy it.</p>
<p>Docker images can also be <em>layered</em>. For example, you can base a <code>Dockerfile</code> on an already existing docker <em>image</em>, and just add your <em>additional</em> instructions. In the now tired cooking analogy, you can use frozen pizza dough from the store as an <em>ingredient</em> to your own home-cooked meal.</p>
<p>Happily, there are some great docker images for R projects maintained by the <a href="http://rocker-project.org">Rocker Project</a> to get you started. Because containers can be layered, you can just base your <em>own</em> <code>Dockerfile</code> on one of those popular images. For example, <code>rocker/verse</code> already includes R, RStudio, the tidyverse, LaTeX and many other packages and system dependencies.</p>
<p>You can lock use this image simply by placing a text file called <code>Dockerfile</code> at the root of your repository. At a minimum, it should include a <code>FROM</code> statement as in the below.</p>
<pre><code>FROM rocker/verse:3.5.2</code></pre>
<p>The <code>:3.5.2</code> part of the <code>FROM</code> statement binds you to a particular <em>version</em> of that image. You are highly recommended to always use versioned images.</p>
<p>You can also generate such a simple file by running [ghactions::use_dockerfile()].</p>
<p>If you want to add more instructions, consult the <a href="https://docs.docker.com/engine/reference/builder/">docker documentation</a>. Learn how to add additional R packages at the <a href="https://www.rocker-project.org/use/extending/">Rocker Project</a>.</p>
<p>You can also use the <a href="https://github.com/o2r-project/containerit">containerit</a> package to automatically write a <code>Dockerfile</code>: it uses impressive (and dark?) magic to figure out what <code>Dockerfile</code> instructions you need. Beginners might be better off writing their own <code>Dockerfile</code>s.</p>
<p>There is one last step before we can use the <code>Dockerfile</code> in a GitHub action. Because a <code>Dockerfile</code> is just a <em>recipe</em> for a build environment, <strong>you first have to build your <code>repo/Dockerfile</code></strong> into an image. Happily, GitHub actions already provides an <a href="https://github.com/actions/docker">action for that</a>. Most workflow function in this package start with a block such as the below.</p>
<pre><code>action "Build image" {
  uses = "actions/docker/cli@c08a5fc9e0286844156fefff2c141072048141f6"
  args = "build --tag=repo:latest ."
}</code></pre>
<p>This just runs <code>docker build --tag=repo:latest .</code>, where <code>.</code> is the root of your repository. Docker will then pick whichever <code>Dockerfile</code> it finds there and <em>build</em> it. Your dockerfile recipe has now been prepared into a meal, and this meal (the docker <em>image</em>) exists in your <code>/github/workspace</code>. This is a special directory that you won’t ever see anywhere. GitHub actions provisions this directory and lets it <em>persist as long as your <code>main.workflow</code> runs</em>.</p>
<p>The <code>--tag=repo:latest</code> part of the above call simply names your image, literally “repo:latest”. This is just my convention, not a magic name. The good news is that any downstream actions can now use the prepared image.</p>
<p>The awkward part is that these actions have to <strong>call the image by its exact name: <code>repo:latest</code></strong>.</p>
<p>This step to build an image is wrapped in <code><a href="../reference/docker_cli.html">build_image()</a></code>.</p>
<p>The workflow functions in this package take care of this automatically. This isn’t terribly elegant, but currently appears to be the only way on GitHub actions to identify images from past actions (see <a href="https://github.com/maxheld83/ghactions/issues/1">this issue</a>).</p>
</div>
<div id="why-you-should-care" class="section level2">
<h2 class="hasAnchor">
<a href="#why-you-should-care" class="anchor"></a>Why You Should Care</h2>
<p>It’s still very early days, but it seems as if GitHub actions might have some potential for R projects:</p>
<ul>
<li>It’s built on an open-source, cross-platform foundation, that you can easily reason about and reproduce on your machine (Docker!).</li>
<li>It seems pretty fast compared to TravisCI: an <code>R CMD check</code> for a small project with all bells and whistles is at &lt;4 minutes. (This is <em>before</em> image or build artefact caching.) (This is anecdotal evidence, if you’d like a real benchmarking, chip in <a href="https://github.com/maxheld83/ghactions/issues/35">here</a>).</li>
<li>There’s one less service to deal with and one less authentication to go through, especially for smaller projects.</li>
<li>The GUI makes it easier to build and reason about complex CI/CD chains.</li>
<li>The sharing model seems promising.</li>
<li>GitHub actions can be tied into almost <em>anything</em> in the GitHub API. Let’s go nuts!</li>
<li>The vendor lock-in is quite limited, because the proprietary layer on top of Docker is quite thin. GitHub has also (already) <a href="https://githubengineering.com/an-open-source-parser-for-github-actions/">open-sourced parts of GitHub actions</a> and seems encourage alternative implementations of it.</li>
</ul>
</div>
<div id="what-this-package-doesnt-do" class="section level2">
<h2 class="hasAnchor">
<a href="#what-this-package-doesnt-do" class="anchor"></a>What This Package <em>Doesn’t</em> Do</h2>
<p>The ghactions package is quite limited, and deliberately so: GitHub actions already provides most of the things we might want, and in a cross-platform way:</p>
<ul>
<li>a succinct and human-readable text file representation (a subset of the <a href="https://github.com/hashicorp/hcl">Hashicorp Configuration Language (HCL)</a>) of the <a href="https://en.wikipedia.org/wiki/Directed_acyclic_graph">directed acyclic graphs (DAG)</a> used to model code automation workflows,</li>
<li>a neat graphical user interface that makes to edit your <code>main.workflow</code> files in their native graph form,</li>
<li>a convenient model and marketplace to share actions.</li>
</ul>
<p>This package does not intend to solve these problems <em>again</em>, nor to completely wrap GitHub actions in R. It’s really just a glorified collection of templates to get you started quickly.</p>
<p>If you need something more advanced, chances are you’re going to want to edit your workflows yourself, using GitHub’s native interface. It’s quite easy to use, and we’ll try to gather and share best practices in this repository.</p>
</div>
<div id="thanks" class="section level2">
<h2 class="hasAnchor">
<a href="#thanks" class="anchor"></a>Thanks</h2>
<p>ghactions leaves much of the hard work to other open source software and their generous authors.</p>
<p>First and foremost, GitHub Actions is build on top of Docker, and so, by extension, is this package. It would not be possible without the tremendous work of <a href="https://www.carlboettiger.info">Carl Boettiger</a> and <a href="http://dirk.eddelbuettel.com">Dirk Edelbuettel</a>, who carefully maintain versioned Docker images for R through their <a href="http://rocker-project.org">Rocker Project</a>.</p>
<p>This package is also heavily modeled on, and indebted to the <a href="https://usethis.r-lib.org">usethis</a> package by <a href="https://jennybryan.org">Jenny Bryan</a> and <a href="http://hadley.nz">Hadley Wickham</a>.</p>
</div>
<div id="related-work" class="section level2">
<h2 class="hasAnchor">
<a href="#related-work" class="anchor"></a>Related Work</h2>
<p>There are plenty of other proven ways to run CI/CD for R. Many rely on <a href="https://docs.travis-ci.com/user/languages/r/">R support on TravisCI</a>, maintained by <a href="https://github.com/jeroen">Jeron Ooms</a> and <a href="https://www.jimhester.com">Jim Hester</a>. The <a href="https://ropenscilabs.github.io/travis/">travis</a> and <a href="https://ropenscilabs.github.io/tic/">tic</a> packages make it easier to work with them. You can use <a href="http://appveyor.com">AppVeyor</a>’s Windows-based system via the <a href="https://github.com/krlmlr/r-appveyor">r-appveyor</a> package.</p>
<p>For serious, cross-platform testing of packages, there’s the <a href="http://r-hub.io">r-hub</a> project.</p>
<p>There are also other ways to use R and Docker together. We are here primarily concerned with running R <em>inside Docker</em> (inside GitHub actions), but there are also some packages that allow you to control Docker from <em>inside R</em>, including <a href="https://richfitz.github.io/stevedore/">stevedore</a>, <a href="https://github.com/wch/harbor">harbor</a> and <a href="https://bhaskarvk.github.io/docker/">docker</a>. The broader topic of reproducibility in R with the help of Docker is also adressed by the <a href="https://github.com/benmarwick/rrtools">rrtools</a> and <a href="https://liftr.me">liftr</a> packages, as well as the <a href="https://o2r.info">o2r</a> and <a href="https://ropensci.org">ropensci</a> projects.</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#workflows">Workflows</a></li>
      <li><a href="#actions">Actions</a></li>
      <li><a href="#docker">Docker</a></li>
      <li><a href="#why-you-should-care">Why You Should Care</a></li>
      <li><a href="#what-this-package-doesnt-do">What This Package <em>Doesn’t</em> Do</a></li>
      <li><a href="#thanks">Thanks</a></li>
      <li><a href="#related-work">Related Work</a></li>
      </ul>
</div>
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by <a href="http://www.maxheld.de">Max Held</a>, <a href="https://jimhester.com/">Jim Hester</a>, RStudio Inc..</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
</div>

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.js" integrity="sha256-GKvGqXDznoRYHCwKXGnuchvKSwmx9SRMrZOTh2g4Sb0=" crossorigin="anonymous"></script><script>
  docsearch({
    
    
    apiKey: '8f10ced26cbc746213d4922f059ceb49',
    indexName: 'ghactions',
    inputSelector: 'input#search-input.form-control',
    transformData: function(hits) {
      return hits.map(function (hit) {
        hit.url = updateHitURL(hit);
        return hit;
      });
    }
  });
</script>
</body>
</html>
